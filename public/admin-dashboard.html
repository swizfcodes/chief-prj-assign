<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" type="image/png" href="/photos/favicon.ico" sizes="32x32">
  <link rel="stylesheet" href="styles/index.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
  <style>
    body { font-family: 'Inter', sans-serif; }
    .active-tab { background-color: #1f2937; color: white; }

    .collapsible-content {
      display: none;
    }
    .collapsible-content.show {
      display: block;
    }
    .toggle-header {
      user-select: none;
    }
    .toggle-header:hover {
      background-color: #f3f4f6;
    }

    ul li::before {
      content: "" !important; 
    }

    .toggle-table.hidden {
      display: none !important; 
    }

    label{
      color: black !important;
    }

    h2{
      color: black !important;
    }

    .form-wrapper,
    .container-form{
      background: none !important;
    }

  @media (max-width: 4000px) and (min-width: 1700px) {
    html {
      font-size: 100% !important;
    } 

    label{
      font-size: 100% !important;
    }
  }

  @media (max-width: 1023px) and (min-width: 600px) {
    .p-6 {
        padding-top: 7% !important;
    }
  }

  @media (max-width: 768px) {
    html {
      font-size: 85% !important;
    }
  }

  @media (max-width: 600px) {
    html {
    font-size: 70% !important;
  }

    @media (max-width: 468px) {
    .email-wrap {
      word-break: break-word;
      max-width: 70px;
    }
  }

  .p-6 {
    padding: 0.5rem !important;
    padding-top: 10% !important;
  }
}
  </style>
</head>
<body class="bg-gray-100 min-h-screen">

  <!-- Header / Topbar -->
  <header class="fixed top-0 left-0 w-full z-50 flex items-center justify-between p-4 bg-gray-100 shadow-md lg:hidden">
    <div class="text-xl font-bold text-gray-800">OCDA Admin</div>
    
    <!-- Hamburger Menu Button -->
    <button id="menuToggle" class="p-2 text-gray-800 focus:outline-none">
      <!-- Hamburger Icon -->
      <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2"
          viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round">
        <path d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
  </header>

  <div class="flex flex-col lg:flex-row">
    <!-- Sidebar -->
    <aside id="sidebar" class="bg-white w-64 fixed top-0 left-0 h-full shadow-md transform -translate-x-full transition-transform duration-300 z-50 lg:relative lg:translate-x-0 lg:h-auto lg:block hidden">
      <div class="p-6 text-xl font-bold text-gray-800 border-b">OCDA Admin</div>
      <nav class="p-4 space-y-3">
        <button class="w-full px-4 py-2 text-left rounded tab-button" data-tab="member-list">OCDA Members</button>
        <button id="adminTabBtn" class="w-full px-4 py-2 text-left rounded tab-button" data-tab="create-admin">Administrators</button>
        <button class="w-full px-4 py-2 text-left rounded tab-button" data-tab="ledger-entry">Ledger Entry</button>
        <button class="w-full px-4 py-2 text-left rounded tab-button" data-tab="ocda-expense">OCDA Expense</button>
        <!-- Receipt Main Tab -->
        <div class="relative"   id="receiptTabWrapper">
          <button id="receiptTabBtn"
            class="w-full px-4 py-2 text-left rounded text-black flex justify-between items-center">
            <span><i data-lucide="file-text" class="w-4 h-4 inline-block mr-2"></i> Reports</span>
            <i data-lucide="chevron-down" class="w-4 h-4 ml-auto"></i>
          </button>

          <!-- SUBTABS -->
          <div id="receiptDropdown"
              class="hidden left-0 mt-1 bg-white shadow-md rounded z-10 w-full border">
            <button class="w-full px-4 py-2 text-left hover:bg-gray-100 flex items-center tab-sub-button"
                    data-tab="enquiry">
              <i data-lucide="search" class="w-4 h-4 mr-2"></i> Enquiry
            </button>
            <button class="w-full px-4 py-2 text-left hover:bg-gray-100 flex items-center tab-sub-button"
                    data-tab="memberledger">
              <i data-lucide="book-open" class="w-4 h-4 mr-2"></i> Member Ledger
            </button>
            <button class="w-full px-4 py-2 text-left hover:bg-gray-100 flex items-center tab-sub-button"
                    data-tab="ocda-expenses-analysis">
              <i data-lucide="file-minus" class="w-4 h-4 mr-2"></i> OCDA Expenses Analysis
            </button>
            <button class="w-full px-4 py-2 text-left hover:bg-gray-100 flex items-center tab-sub-button"
              data-tab="ocda-income-analysis">
              <i data-lucide="file-plus" class="w-4 h-4 mr-2"></i> OCDA Income Analysis
            </button>
            <button class="w-full px-4 py-2 text-left hover:bg-gray-100 flex items-center tab-sub-button"
             data-tab="summary">
              <i data-lucide="bar-chart" class="w-4 h-4 mr-2"></i>Monthly Summary
            </button>
          </div>
        </div>
        <button class="w-full px-4 py-2 text-left rounded tab-button" data-tab="std">Standard Expenses</button>
        <button class="w-full px-4 py-2 text-left rounded tab-button" data-tab="income">Income Classifications</button>
        <button class="w-full px-4 py-2 text-left rounded tab-button" data-tab="static-tables">Static Tables</button>
        <button class="w-full px-4 py-2 text-left rounded tab-button" data-tab="notices-section">Notices / Events</button>
        <button class="w-full px-4 py-2 text-left rounded tab-button" data-tab="change-PhoneNumber">Change PhoneNumber</button>
        <button id="menuToggle" class="lg:hidden p-4 text-gray-800 focus:outline-none"></button>
        <button onclick="adminLogout()" class="bg-red-500 w-full px-4 py-2 text-left rounded tab-button">Logout</button>
      </nav>
    </aside>

    <div id="overlay" class="fixed inset-0 bg-black bg-opacity-50 hidden z-40 lg:hidden"></div>



    <!-- Main Content -->
    <main class="flex-1 p-6 space-y-10">
      
        <!-- Card + Table Container -->
      <section id="landingSections" class="landings-section tab-content">
        <div class="overflow-x-auto rounded shadow bg-white p-4 space-y-6">
          <div id="membersSummaryTableBox">
            <!-- JS will inject summary cards and table here -->
          </div>
        </div>
      </section>

      <!-- Create Admin Section -->
      <section id="create-admin" class="tab-content hidden">
        <h2 class="text-xl font-semibold mb-4">Create New Admin</h2>
        <form id="createAdminForm" class="bg-white p-6 rounded shadow-md space-y-4 max-w-md">
          <input type="text" name="fullname" placeholder="Full Name" required class="w-full p-3 border rounded" />
          <input type="email" name="email" placeholder="Email" required class="w-full p-3 border rounded" />
          <input type="password" name="password" placeholder="Password" required class="w-full p-3 border rounded" />
          <select name="role" class="w-full p-3 border rounded">
            <option value="admin">Admin</option>
            <option value="superadmin">Super Admin</option>
          </select>
          <button type="submit" class="bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700">Create Admin</button>
        </form>

        <br>

        <!-- Admin List -->
        <h2 class="text-xl font-semibold mb-4">Admin List</h2>
        <div id="adminTable" class="bg-white p-4 rounded shadow text-sm overflow-x-auto max-w-full">
          <div class="w-full overflow-hidden">
            <table class="table-auto w-full text-left whitespace-normal break-words">
              <thead>
                <tr class="bg-gray-100">
                  <th class="px-4 py-2">Name</th>
                  <th class="px-4 py-2">Email</th>
                  <th class="px-4 py-2">Role</th>
                  <th class="px-4 py-2">Status</th>
                  <th class="px-4 py-2">Actions</th>
                </tr>
              </thead>
              <tbody id="adminTableBody">
                <!-- JS will populate rows here -->
              </tbody>
            </table>
          </div>
        </div>


        <!-- Edit Admin Modal -->
        <div id="editAdminModal" class="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 hidden">
          <div class="bg-white p-6 rounded shadow-md w-full max-w-md relative">
            <button onclick="document.getElementById('editAdminModal').classList.add('hidden')" class="absolute top-2 right-2 text-gray-500">&times;</button>
            <h2 class="text-lg font-bold mb-4">Edit Admin</h2>
            <form id="editAdminForm" class="space-y-4">
              <input type="hidden" name="id" id="editAdminId">
              <div>
                <label class="block mb-1">Full Name</label>
                <input type="text" name="fullname" id="editAdminFullname" required class="w-full p-2 border rounded">
              </div>
              <div>
                <label class="block mb-1">Email</label>
                <input type="email" name="email" id="editAdminEmail" required class="w-full p-2 border rounded">
              </div>
              <div>
                <label class="block mb-1">Role</label>
                <select name="role" id="editAdminRole" class="w-full p-2 border rounded">
                  <option value="admin">Admin</option>
                  <option value="superadmin">Super Admin</option>
                </select>
              </div>
              <div class="flex gap-2 mt-4">
                <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded">Save Changes</button>
                <button type="button" onclick="document.getElementById('editAdminModal').classList.add('hidden')" class="bg-gray-400 text-white px-4 py-2 rounded">Cancel</button>
              </div>
            </form>
          </div>
        </div>
      </section>

      <!-- Income Classifications -->
      <section id="income" class="tab-content hidden">
        <h2 class="text-2xl font-semibold mb-4">Income Classifications</h2>
        <div class="overflow-auto rounded shadow bg-white">
          <form id="addIncomeClassForm" class="flex gap-2 mb-2">
            <input type="text" id="newIncomecode" placeholder="Code..." required class="border rounded px-2 py-1">
            <input type="text" id="newIncomedesc" placeholder="Description..." required class="border rounded px-2 py-1">
            <button type="submit" class="bg-blue-500 text-white px-3 py-1 rounded">Add</button>
          </form>
          <table class="min-w-full text-sm text-left">
            <thead class="bg-gray-200 text-gray-700">
              <tr>
                <th>Code</th>
                <th>Description</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="incomeData"></tbody>
          </table>
        </div>
      </section>


      <!-- Unified Monthly Summary Section (Screen F) -->
      <section id="summary" class="tab-content hidden">
        <h2 class="text-2xl font-semibold mb-4">Monthly Summary</h2>

        <!-- Summary Generator Form -->
        <form id="summaryForm" class="bg-white p-6 rounded shadow-md space-y-4 max-w-md mb-6">
          <div class="text-lg font-semibold">Generate Monthly Summary</div>
          <input name="year" type="number" placeholder="Year (e.g. 2025)" required class="w-full p-3 border rounded" />
          <select name="month" required class="w-full p-3 border rounded">
            <option value="">-- Select Month --</option>
            <option value="01">January</option>
            <option value="02">February</option>
            <option value="03">March</option>
            <option value="04">April</option>
            <option value="05">May</option>
            <option value="06">June</option>
            <option value="07">July</option>
            <option value="08">August</option>
            <option value="09">September</option>
            <option value="10">October</option>
            <option value="11">November</option>
            <option value="12">December</option>
          </select>
          <button type="submit" class="bg-purple-600 text-white px-4 py-2 rounded">Generate Summary</button>
        </form>

        <!-- Summary Table -->
        <div class="overflow-auto rounded shadow bg-white">
          <table class="min-w-full text-sm text-left">
            <thead class="bg-gray-200 text-gray-700">
              <tr>
                <th class="p-3">Period</th>
                <th class="p-3">Open</th>
                <th class="p-3">Debit</th>
                <th class="p-3">Credit</th>
                <th class="p-3">Net</th>
              </tr>
            </thead>
            <tbody id="summaryData"></tbody>
          </table>
        </div>
      </section>

      <!-- OCDA Expenses Analysis Section -->
      <section id="ocda-expenses-analysis" class="tab-content hidden">
        <h2 class="text-2xl font-semibold mb-4">OCDA Expenses Analysis</h2>

        <!-- Filter Form -->
        <form id="ocdaExpensesAnalysisForm" class="bg-white p-4 rounded shadow mb-4 flex flex-wrap gap-4 items-end">
          <div>
            <label class="block font-medium mb-1">Mode</label>
            <select name="mode" class="p-2 border rounded">
              <option value="summary">Summary</option>
              <option value="detail">Detail</option>
            </select>
          </div>
          <div>
            <label class="block font-medium mb-1">Start Date</label>
            <input type="date" name="start" class="p-2 border rounded" />
          </div>
          <div>
            <label class="block font-medium mb-1">End Date</label>
            <input type="date" name="end" class="p-2 border rounded" />
          </div>
          <div>
            <label class="block font-medium mb-1">Specific Code or ALL</label>
            <input type="text" name="code" class="p-2 border rounded" placeholder="e.g. 1010 or ALL" />
          </div>
          <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded">Generate Report</button>
          <button onclick="exportOCDAReportToPDF()" class="bg-green-600 text-white px-4 py-2 rounded">Export PDF</button>
        </form>

        <!-- Results Container -->
        <div id="ocdaExpensesAnalysisTable" class="overflow-auto rounded shadow bg-white p-4 space-y-8">
          <!-- Dynamic report content will be inserted here -->
        </div>
      </section>


      <!-- OCDA Income Analysis Section -->
      <section id="ocda-income-analysis" class="tab-content hidden">
        <h2 class="text-2xl font-semibold mb-4">OCDA Income Analysis</h2>
        <form id="ocdaIncomeAnalysisForm" class="bg-white p-4 rounded shadow mb-4 flex flex-wrap gap-4 items-end">
          <div>
            <label class="block font-medium mb-1">Mode</label>
            <select name="mode" class="p-2 border rounded">
              <option value="summary">Summary</option>
              <option value="detail">Detail</option>
            </select>
          </div>
          <div>
            <label class="block font-medium mb-1">Start Date</label>
            <input type="date" name="start" class="p-2 border rounded" />
          </div>
          <div>
            <label class="block font-medium mb-1">End Date</label>
            <input type="date" name="end" class="p-2 border rounded" />
          </div>
          <div>
            <label class="block font-medium mb-1">Specific Description or ALL</label>
            <input type="text" name="code" class="p-2 border rounded" placeholder="e.g. ANNUAL DUES or ALL" />
          </div>
          <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded">Generate Report</button>
        </form>
        <div class="overflow-auto rounded shadow bg-white">
            <div id="ocdaIncomeAnalysisTable">
            </div>
        </div>
      </section>

      <!-- OCDA Expenses -->
      <section id="expenses" class="tab-content hidden">
        <h2 class="text-2xl font-semibold mb-4">OCDA Expenses</h2>
        <div class="overflow-auto rounded shadow bg-white">
          <table class="min-w-full text-sm text-left">
            <thead class="bg-gray-200 text-gray-700">
              <tr>
                <th class="p-3">Date</th>
                <th class="p-3">Project</th>
                <th class="p-3">Remarks</th>
                <th class="p-3">Amount</th>
              </tr>
            </thead>
            <tbody id="expensesData"></tbody>
          </table>
        </div>
      </section>

      <!-- Standard Expenses -->
      <section id="std" class="tab-content hidden">
        <h2 class="text-2xl font-semibold mb-4">Standard Expenses</h2>
        <div class="overflow-auto rounded shadow bg-white">
          <form id="addStdExpenseForm" class="flex gap-2 mb-2">
            <input type="text" id="newExpscode" placeholder="Code..." required class="border rounded px-2 py-1">
            <input type="text" id="newExpsdesc" placeholder="Description..." required class="border rounded px-2 py-1">
            <button type="submit" class="bg-blue-500 text-white px-3 py-1 rounded">Add</button>
          </form>
          <table class="min-w-full text-sm text-left">
            <thead class="bg-gray-200 text-gray-700">
              <tr>
                <th>Code</th>
                <th>Description</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="stdData"></tbody>
          </table>
        </div>
      </section>

          <!-- Create Member Form -->
      <section id="create-member" class="tab-content hidden">
        <div class="form-wrapper">
          <div class="container-form">
            <form class="form active" id="createMemberForm">
              <h2 class="title">Register New Member</h2>

              
              <div class="form-container">
                  <!-- Success Message -->
                  <div class="success-message" id="successMessage">
              </div>

              <!-- Row: Surname + Other Names -->
              <div class="form-row">
                <div class="form-group">
                  <label for="surname">Surname <span class="required">*</span></label>
                  <input type="text" id="surname" name="Surname" required>
                  <div class="error" id="surnameError"></div>
                </div>
                <div class="form-group">
                  <label for="otherNames">OtherNames <span class="required">*</span></label>
                  <input type="text" id="othernames" name="othernames" required>
                  <div class="error" id="otherNamesError"></div>
                </div>
              </div>

              <!-- Phone Numbers -->
              <div class="form-row">
                  <div class="form-group">
                      <label for="phoneNumber">Phone Number <span class="required">*</span></label>
                      <input type="tel" id="phoneNumber" name="PhoneNumber" required placeholder="e.g., 08012345678">
                  </div>
                  <div class="form-group">
                      <label for="phoneNo2">Secondary Phone</label>
                      <input type="tel" id="phoneno2" name="phoneno2" placeholder="Optional">
                  </div>
              </div>

              <!-- Row: Title + HonTitle -->
              <div class="form-row">
                <div class="form-group">
                  <label for="title">Title</label>
                  <select id="title" name="Title"> 
                    <option value="">Select Title</option>
                  </select>
                </div>

                <div class="form-group">
                  <label for="honTitle">Honorary Title</label>
                  <select id="honTitle" name="HonTitle"> 
                    <option value="">Select Honorary Title</option>
                  </select>
                </div>
              </div>

              <!-- Row: Sex + DOB -->
              <div class="form-row">
                <div class="form-group">
                  <label for="sex">Sex <span class="required">*</span></label>
                  <select id="sex" name="Sex" required> 
                    <option value="">Select Sex</option>
                    <option value="M">M</option>
                    <option value="F">F</option>
                  </select>
                  <div class="error" id="sexError"></div>
                </div>
                <div class="form-group">
                  <label for="dob">Date of Birth <span class="required">*</span></label>
                  <input type="date" id="dob" name="DOB" required>
                  <div class="error" id="dobError"></div>
                </div>
              </div>

              <!-- Quarters  + ward-->
              <div class="form-row">
                <div class="form-group">
                  <label for="quarters">Quarters<span class="required">*</span></label>
                  <select id="quarters" name="Quarters" required> 
                    <option value="">Select Quaters</option>
                  </select>
                  <div class="error" id="quartersError"></div>
                </div>

                <div class="form-group">
                  <label for="ward">Ward <span class="required">*</span></label>
                  <select id="ward" name="Ward" required> 
                    <option value="">Select Ward</option>
                  </select>
                  <div class="error" id="wardError"></div>
                </div>                
              </div>
              
              <!-- Row: state + Town -->
              <div class="form-row">
                <!-- State -->
                <div class="form-group">
                  <label for="state">State <span class="required">*</span></label>
                  <select id="state" name="State" required> 
                    <option value="">Select State</option>
                  </select>
                  <div class="error" id="stateError"></div>
                </div>

                <div class="form-group">
                  <label for="town">Town <span class="required">*</span></label>
                  <input type="text" id="town" name="Town" required>
                  <div class="error" id="townError"></div>
                </div>
              </div>

              <!-- Row: Qualifications + Profession -->
              <div class="form-row">
                <div class="form-group">
                  <label for="qualifications">Qualification</label>
                  <select id="qualifications" name="Qualifications"> 
                    <option value="">Select Qualification</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="profession">Profession</label>
                  <input type="text" id="profession" name="Profession">
                </div>
              </div>

              <!-- Exit Date + email-->
              <!-- Email -->
            <div class="form-row">
              <div class="form-group">
                  <label for="email">Email Address</label>
                  <input type="email" id="email" name="email" placeholder="example@domain.com">
              </div>
              
              <!-- Exit Date -->
              <div class="form-group">
                <label for="exitDate">Exit Date</label>
                <input type="date" id="exitDate" name="exitdate">
              </div>
            </div>

              <!-- Row: Passwords -->
              <div class="form-row">
                <div class="form-group">
                  <label for="password">Password <span class="required">*</span></label>
                  <input type="password" id="password" name="Password" required>
                  <div class="error" id="passwordError"></div>
                </div>
                <div class="form-group">
                  <label for="retypePassword">Retype Password <span class="required">*</span></label>
                  <input type="password" id="retypePassword" name="RetypePassword" required>
                  <div class="error" id="retypePasswordError"></div>
                </div>
              </div>

              <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded">Create Member</button>
              <button class="bg-red-600 text-white px-4 py-2 rounded"><a href="/admin-dashboard.html">Cancel</a></button>
            </form>
          </div>
        </div>
      </section>

      <!-- Member Ledger Entry -->
      <section id="ledger-entry" class="tab-content hidden">
        <h2 class="text-2xl font-semibold mb-4">Add Ledger Entry</h2>
        <form id="ledgerForm" class="bg-white p-6 rounded shadow-md space-y-4 max-w-md">
          <label class="block text-black">Phone Number</label>
          <input list="phonenoList" id="phoneno" name="phoneno" class="w-full p-3 border rounded" placeholder="Search phone number..." required>
          <span id="ledgerPhoneError" style="display: none;"></span>
          <datalist id="phonenoList"></datalist>

          <label class="block text-black">Date</label>
          <input name="transdate" id="transdate" type="date" placeholder="Date" required class="w-full p-3 border rounded" />

          <label class="block text-black">Amount</label>
          <input name="amount" placeholder="Amount (use negative for reversal)" required class="w-full p-3 border rounded" />

          <label class="block text-black">Remark</label>
          <select name="remark" id="remarkDropdown" class="w-full p-3 border rounded" required>
            <option value="">-- Select Income Classification --</option>
            <!-- Options will be populated by JS -->
          </select>
          <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded">Submit</button>
        </form>

        <div id="ledger" style="margin-top: 3%;">
          <h2 class="text-2xl font-semibold mb-4">Recent Member Ledger</h2>
          <div class="overflow-auto rounded shadow bg-white">
            <table class="min-w-full text-sm text-left">
              <thead class="bg-gray-200 text-gray-700">
                <tr>
                  <th class="p-3">Phone No</th>
                  <th class="p-3">Trans. Date</th>
                  <th class="p-3">Amount</th>
                  <th class="p-3">Remark</th>
                  <th class="p-3">Record Date</th>
                </tr>
              </thead>
              <tbody id="ledgerData"></tbody>
            </table>
          </div>
        </div>
      </section>

      <section id="memberledger" class="tab-content hidden">
          <h2 class="text-2xl font-semibold mb-4">All Member Ledger</h2>
          <div class="overflow-auto rounded shadow bg-white">
            <table class="min-w-full text-sm text-left">
              <thead class="bg-gray-200 text-gray-700">
                <tr>
                  <th class="p-3">Phone No</th>
                  <th class="p-3">Trans. Date</th>
                  <th class="p-3">Amount</th>
                  <th class="p-3">Remark</th>
                  <th class="p-3">Record Date</th>
                </tr>
              </thead>
              <tbody id="ledgerDataTable"></tbody>
            </table>
          </div>
      </section>

            <!-- OCDA Expense Entry -->
      <section id="ocda-expense" class="tab-content hidden">
        <h2 class="text-2xl font-semibold mb-4">Record OCDA Expense</h2>
          <!-- Screen C: OCDA Cheque Input + Other Charges -->
        <form id="ocdaForm" class="bg-white p-6 rounded shadow max-w-xl space-y-4">
          <h2 class="text-xl font-semibold">OCDA Cheque Input + Other Charges</h2>

          <label class="block text-black">
            Date
            <input name="docdate" type="date" required class="w-full p-2 border rounded" />
          </label>

          <label class="block text-black">
            Voucher Number
            <input name="voucher" type="number" required class="w-full p-2 border rounded" />
          </label>          

          <label class="block text-black">
            Project
            <select name="project" required class="w-full p-2 border rounded" id="projectDropdown">
              <!-- Populated dynamically -->
            </select>
          </label>

          <label class="blocktext-black">
            Amount <span class="text-sm text-gray-500">(use negative for reversal)</span>
            <input name="amount" type="number" step="0.01" required class="w-full p-2 border rounded" />
          </label>

          <label class="block text-black">
            Remarks
            <input name="remarks" type="text" required class="w-full p-2 border rounded" />
          </label>

          <div class="flex gap-4 mt-4">
            <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded">Submit</button>
            <button type="button" onclick="document.getElementById('ocdaForm').reset()" class="bg-gray-400 text-white px-4 py-2 rounded">Cancel</button>
          </div>
        </form>

      <h3 class="text-lg font-semibold mt-8 mb-2">Recent OCDA Expenses</h3>
        <div class="overflow-auto bg-white rounded shadow">
          <table class="min-w-full text-sm text-left">
            <thead class="bg-gray-200">
              <tr>
                <th class="p-2">Date</th>
                <th class="p-2">Voucher No</th>
                <th class="p-2">Project</th>
                <th class="p-2">Remarks</th>
                <th class="p-2">Amount</th>
              </tr>
            </thead>
            <tbody id="ocdaTableBody"></tbody>
          </table>
        </div>
      </section>


      <!-- Enquiry Section -->
      <section id="enquiry" class="tab-content hidden">
        <h2 class="text-2xl font-semibold mb-4">Enquiry</h2>

        <!--  Option Selection -->
        <form id="enquiryForm" class="bg-white p-4 rounded shadow space-y-4">
          <div class="flex gap-6 flex-wrap">
            <label class="text-black"><input type="radio" name="enquiryType" value="member" checked /> Member</label>
            <label class="text-black"><input type="radio" name="enquiryType" value="ward" /> Ward</label>
            <label class="text-black"><input type="radio" name="enquiryType" value="quarter" /> Quarter</label>
          </div>

          <!-- Member -->
          <div id="memberSelectGroup">
            <label class="block mt-2 font-medium  text-black">Member GSMNO</label>
            <select name="queryParam" id="enquiry-member" class="w-full p-2 border rounded">
              <option value="ALL">ALL</option>
            </select>
          </div>

          <!-- Ward -->
          <div id="wardSelectGroup" class="hidden">
            <label class="block mt-2 font-medium text-black">Select Ward</label>
            <select name="queryParam" id="enquiry-ward" class="w-full p-2 border rounded">
              <option value="ALL">ALL</option>
            </select>
          </div>

          <!--  Quarter -->
          <div id="quarterSelectGroup" class="hidden">
            <label class="block mt-2 font-medium text-black">Select Quarter</label>
            <select name="queryParam" id="enquiry-quarter" class="w-full p-2 border rounded">
              <option value="ALL">ALL</option>
            </select>
          </div>

          <!--  Date Filters -->
          <div class="grid grid-cols-2 gap-4">
            <input type="date" name="start" class="p-2 border rounded" />
            <input type="date" name="end" class="p-2 border rounded" />
          </div>

          <label for="detailCheck" class="flex items-center gap-2 text-base cursor-pointer select-none text-black">
            <input type="checkbox" id="detailCheck" name="detail" class="w-4 h-4 accent-blue-600" />
            Show All Details
          </label>

          <div class="flex items-center gap-4 mt-4">
            <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded">Submit</button>
          </div>
        </form>

        <!--  Result View -->
        <div id="enquiryResults" class="mt-6 hidden min-h-screen flex flex-col">
          <div class="flex justify-between items-center mb-2">
            <strong>Enquiry Results</strong>
            <div class="space-x-2">
              <button onclick="printEnquiry()" class="bg-gray-300 px-3 py-1 rounded">Print</button>
              <button onclick="exportEnquiry('excel')" class="bg-green-500 px-3 py-1 text-white rounded">Export Excel</button>
              <button onclick="exportEnquiry('pdf')" class="bg-red-500 px-3 py-1 text-white rounded">Export PDF</button>
            </div>
          </div>

          <!--  Dual-Column Result View -->
          <div id="enquiryTableWrapper" class="flex flex-col lg:flex-row flex-wrap gap-4 mb-4 w-full">
            
            <!-- Summary Section -->
            <div id="summaryWrapper" class="w-full lg:w-1/2  h-[calc(100vh-200px)] overflow-auto">
              <h3 class="font-semibold text-lg mb-2">Summary</h3>
              <div class="bg-white border rounded p-2 overflow-x-auto" id="summaryTableBox">
                <!-- JS will inject summary table here -->
              </div>
            </div>

            <!-- Detail Section -->
            <div id="detailWrapper" class="w-full lg:w-1/2  h-[calc(100vh-200px)] overflow-auto">
              <h3 class="font-semibold text-lg mb-2">Details</h3>
              <div class="bg-white border rounded p-2 overflow-x-auto" id="detailTableBox">
                <!-- JS will inject detail table here -->
              </div>
            </div>
          </div>



          <!--  Hidden Export Table -->
          <table id="enquiryTableExport" class="hidden"></table>

          <button onclick="document.getElementById('enquiryResults').classList.add('hidden')" class="mt-4 text-blue-600 underline">Cancel</button>
        </div>
      </section>


      <!-- Member List -->
      <section id="member-list" class="tab-content hidden">
        <h2 class="text-2xl font-semibold mb-4">Registered Members</h2>

        <!-- ðŸ” Search & Export -->
        <div class="flex justify-between mb-4">
          <input id="memberSearch" type="text" placeholder="Search..." class="p-2 border rounded w-full max-w-xs" />
          
          <div class="space-x-2">
            <button class="bg-blue-600 text-white px-3 py-2 rounded tab-button" data-tab="create-member">Add New Member</button>
            <button onclick="exportMembers('excel')" class="bg-green-600 text-white px-3 py-2 rounded">Export Excel</button>
            <button onclick="exportMembers('pdf')" class="bg-red-600 text-white px-3 py-2 rounded">Export PDF</button>
          </div>
        </div>

        <!--  Members Table -->
        <div class="overflow-auto rounded shadow bg-white">
          <table class="min-w-full text-sm text-left" id="memberTableExport">
            <thead class="bg-gray-200 text-gray-700">
              <tr>
                <th class="p-3">Phone No</th>
                <th class="p-3">Surname</th>
                <th class="p-3">Other Names</th>
                <th class="p-3">Title</th>
                <th class="p-3">Sex</th>
                <th class="p-3">Quarter</th>
                <th class="p-3">Ward</th>
                <th class="p-3">Actions</th>
              </tr>
            </thead>
            <tbody id="membersTable"></tbody>
          </table>
        </div>

        <!--  Pagination -->
        <div id="pagination" class="flex justify-center mt-4 space-x-2"></div>
      </section>


      <!-- Full Member View/Edit Section -->
      <section id="memberDetails" class="hidden bg-white p-6 rounded shadow-md">
        <h2 class="text-xl font-semibold mb-4">Member Details</h2>
        
        <form id="memberEditForm" style="display:none" class="space-y-6">

          <!-- Row: Surname + Other Names -->
          <div class="form-row grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="form-group">
              <label for="surname">Surname </label>
              <input type="text" id="surname" name="Surname">
            </div>
            <div class="form-group">
              <label for="otherNames">OtherNames</label>
              <input type="text" id="othernames" name="othernames">
            </div>
          </div>

          <!-- Phone Numbers -->
          <div class="form-row grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="form-group">
              <label for="PhoneNumber">Phone Number</label>
              <input name="PhoneNumber" id="PhoneNumber" type="tel" class="p-3 border rounded w-full" readonly/>
            </div>
            <div class="form-group">
              <label for="phoneno2">Secondary Phone</label>
              <input name="phoneno2" id="phoneno2" type="tel" class="p-3 border rounded w-full" />
            </div>
          </div>

          <!-- Email + Sex -->
          <div class="form-row grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="form-group">
              <label for="email">Email Address</label>
              <input name="email" id="email" type="email" class="p-3 border rounded w-full" />
            </div>
            <div class="form-group">
              <label for="Sex">Sex</label>
              <select name="Sex" id="Sex" class="p-3 border rounded w-full">
                <option value="">Select Sex</option>
                <option>M</option>
                <option>F</option>
              </select>
            </div>
          </div>

          <!-- Quarter + State -->
          <div class="form-row grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="form-group">
              <label for="Quarters">Quarter</label>
              <select name="Quarters" id="Quarters" class="p-3 border rounded w-full">
                <option value="">Select Quarter</option>
              </select>
            </div>
            <div class="form-group">
              <label for="State">State</label>
              <select name="State" id="State" class="p-3 border rounded w-full">
                <option value="">Select State</option>
              </select>
            </div>
          </div>

          <!-- Ward + Town -->
          <div class="form-row grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="form-group">
              <label for="Ward">Ward</label>
              <select name="Ward" id="Ward" class="p-3 border rounded w-full">
                <option value="">Select Ward</option>
              </select>
            </div>
            <div class="form-group">
              <label for="Town">Town</label>
              <input name="Town" id="Town" type="text" class="p-3 border rounded w-full" />
            </div>
          </div>

          <!-- Title + Hon Title -->
          <div class="form-row grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="form-group">
              <label for="Title">Title</label>
              <select name="Title" id="Title" class="p-3 border rounded w-full">
                <option value="">Select Title</option>
              </select>
            </div>
            <div class="form-group">
              <label for="HonTitle">Honorary Title</label>
              <select name="HonTitle" id="HonTitle" class="p-3 border rounded w-full">
                <option value="">Select Honorary Title</option>
              </select>
            </div>
          </div>

          <!-- Qualification + Profession -->
          <div class="form-row grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="form-group">
              <label for="Qualifications">Qualification</label>
              <select name="Qualifications" id="Qualifications" class="p-3 border rounded w-full">
                <option value="">Select Qualification</option>

              </select>
            </div>
            <div class="form-group">
              <label for="Profession">Profession</label>
              <input name="Profession" id="Profession" type="text" class="p-3 border rounded w-full" />
            </div>
          </div>

          <!-- DOB + Exit -->
          <div class="form-row grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="form-group">
              <label for="DOB">Date of Birth</label>
              <input name="DOB" id="DOB" type="date" class="p-3 border rounded w-full" />
            </div>
            <div class="form-group">
              <label for="exitdate">Exit Date</label>
              <input name="exitdate" id="exitdate" type="date" class="p-3 border rounded w-full" />
            </div>
          </div>

          <!-- Password -->
          <div class="form-group">
            <label for="Password">Password</label>
            <input name="Password" id="Password" type="text" class="p-3 border rounded w-full" />
          </div>
        </form>

        <div id="memberViewOnly" class="bg-gray-100 p-6 rounded shadow hidden">
          <h2 class="text-xl font-bold mb-4">ðŸ“„ Member Profile</h2>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div><strong>Phone:</strong> <span id="viewPhone"></span></div>
            <div><strong>Secondary Phone:</strong> <span id="viewPhone2"></span></div>
            <div><strong>Surname:</strong> <span id="viewSurname"></span></div>
            <div><strong>Other Names:</strong> <span id="viewOthernames"></span></div>
            <div><strong>Title:</strong> <span id="viewTitle"></span></div>
            <div><strong>Hon Title:</strong> <span id="viewHonTitle"></span></div>
            <div><strong>Sex:</strong> <span id="viewSex"></span></div>
            <div><strong>Quarter:</strong> <span id="viewQuarters"></span></div>
            <div><strong>Ward:</strong> <span id="viewWard"></span></div>
            <div><strong>State:</strong> <span id="viewState"></span></div>
            <div><strong>Town:</strong> <span id="viewTown"></span></div>
            <div><strong>DOB:</strong> <span id="viewDOB"></span></div>
            <div><strong>Exit:</strong> <span id="viewExit"></span></div>
            <div><strong>Qualification:</strong> <span id="viewQualifications"></span></div>
            <div><strong>Profession:</strong> <span id="viewProfession"></span></div>
            <div><strong>Email:</strong> <span id="viewEmail"></span></div>
          </div>
        </div>



        <div class="mt-4 space-x-2">
          <button id="updateMemberBtn" onclick="saveMemberChanges()" class="bg-green-600 text-white px-4 py-2 rounded hidden">
            Save
          </button>
          <button onclick="closeMemberDetails()" class="bg-gray-500 text-white px-4 py-2 rounded">
            Close
          </button>
        </div>
      </section>

      <section id="static-tables" class="tab-content hidden">
        <div class="grid gap-8 md:grid-cols-2 p-4">
          <!-- Titles -->
          <div class="bg-white shadow rounded p-4">
            <h2 class="text-lg font-semibold mb-2">Titles</h2>
            <form id="addTitleForm" class="flex gap-2 mb-2">
              <input type="text" id="newTitle" name="title" placeholder="New title..." required class="flex-1 border rounded px-2 py-1">
              <button type="submit" class="bg-blue-500 text-white px-3 py-1 rounded">Add</button>
            </form>
            <table class="w-full border text-sm">
              <thead>
                <tr class="bg-gray-100"><th class="p-2">Title</th><th class="p-2">Actions</th></tr>
              </thead>
              <tbody id="titlesTableBody"></tbody>
            </table>
          </div>

          <!-- Qualifications -->
          <div class="bg-white shadow rounded p-4">
            <h2 class="text-lg font-semibold mb-4">Qualifications</h2>
            <form id="addQualificationForm" class="flex gap-2 mb-4">
              <input type="text" id="newQualification" name="qualification" placeholder="New qualification..." required class="flex-1 border rounded px-3 py-2">
              <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">Add</button>
            </form>
            <table class="w-full table-auto border border-gray-300 text-sm text-center">
              <thead class="bg-gray-100">
                <tr>
                  <th class="p-2 border">Qualification</th>
                  <th class="p-2 border">Actions</th>
                </tr>
              </thead>
              <tbody id="qualificationsTableBody"></tbody>
            </table>
          </div>

          <!-- Hon Titles -->
          <div class="bg-white shadow rounded p-4 mt-8">
            <h2 class="text-lg font-semibold mb-4">Hon Titles</h2>
            <form id="addHontitleForm" class="flex gap-2 mb-4">
            <input type="text" id="newHtitle" name="Htitle" placeholder="New Hon Title..." required class="flex-1 border rounded px-3 py-2">
              <input type="text" id="newTitlerank" name="titlerank" placeholder="Rank..." required class="flex-1 border rounded px-3 py-2">
              <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">Add</button>
            </form>
            <table class="w-full table-auto border border-gray-300 text-sm text-center">
              <thead class="bg-gray-100">
                <tr>
                  <th class="p-2 border">Hon Title</th>
                  <th class="p-2 border">Rank</th>
                  <th class="p-2 border">Actions</th>
                </tr>
              </thead>
              <tbody id="hontitlesTableBody"></tbody>
            </table>
          </div>

          <!-- Wards & Quarters -->
          <div class="bg-white shadow rounded p-4 mt-8">
            <h2 class="text-lg font-semibold mb-4">Wards & Quarters</h2>
            <form id="addWardsForm" class="flex gap-2 mb-4">
              <input type="text" id="newWard" name="ward" placeholder="Ward..." required class="border rounded px-3 py-2">
              <input type="text" id="newQuarter" name="Quarter" placeholder="Quarter..." required class="border rounded px-3 py-2">
              <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">Add</button>
            </form>
            <table class="w-full table-auto border border-gray-300 text-sm text-center">
              <thead class="bg-gray-100">
                <tr>
                  <th class="p-2 border">Ward</th>
                  <th class="p-2 border">Quarter</th>
                  <th class="p-2 border">Actions</th>
                </tr>
              </thead>
              <tbody id="wardsTableBody"></tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- notices -->
      <section id="notices-section" class="tab-content hidden">
          <h2 class="text-xl font-semibold mb-4">Post Notice/Event</h2>
          <form id="noticeForm" class="bg-white p-4 rounded shadow space-y-4 max-w-md">
              <input type="text" id="noticeTitle" placeholder="Title" required class="w-full p-2 border rounded">
              <select id="noticeType" class="w-full p-2 border rounded">
                  <option value="notice">Notice</option>
                  <option value="event">Event</option>
              </select>
              <textarea id="noticeContent" placeholder="Content" required class="w-full p-2 border rounded"></textarea>
              <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded">Post</button>
          </form>

          <h2 class="text-xl font-semibold mt-8 mb-4">Posted Notices/Events</h2>
          <div id="noticesList" class="mt-4">
              </div>

          <div id="editNoticeModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center hidden z-50">
              <div class="bg-white p-6 rounded-lg shadow-xl w-full max-w-md">
                  <h2 class="text-2xl font-bold mb-4">Edit Notice/Event</h2>
                  <input type="hidden" id="editNoticeId">
                  <div class="mb-4">
                      <label for="editNoticeTitle" class="block text-gray-700 text-sm font-bold mb-2">Title:</label>
                      <input type="text" id="editNoticeTitle" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" required>
                  </div>
                  <div class="mb-4">
                      <label for="editNoticeContent" class="block text-gray-700 text-sm font-bold mb-2">Content:</label>
                      <textarea id="editNoticeContent" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" rows="4" required></textarea>
                  </div>
                  <div class="mb-4">
                      <label for="editNoticeType" class="block text-gray-700 text-sm font-bold mb-2">Type:</label>
                      <select id="editNoticeType" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" required>
                          <option value="notice">Notice</option>
                          <option value="event">Event</option>
                      </select>
                  </div>
                  <div class="flex justify-end">
                      <button id="saveEditNoticeBtn" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mr-2">Save Changes</button>
                      <button id="cancelEditNoticeBtn" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">Cancel</button>
                  </div>
              </div>
          </div>
      </section>

      <section id="change-PhoneNumber" class="tab-content hidden p-6 bg-white rounded-lg shadow-md">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">Change Phone Number</h2>

        <!-- Change Phone Number Form -->
        <form id="phoneNumberEditForm" class="space-y-6">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="form-group">
              <label for="oldphoneno" class="block mb-1 font-medium text-gray-700">Old Phone Number</label>
              <input name="oldphoneno" id="oldphoneno" type="tel" placeholder="e.g. 08012345678"
                class="p-3 border border-gray-300 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500" />
            </div>

            <div class="form-group">
              <label for="PhoneNumber" class="block mb-1 font-medium text-gray-700">New Phone Number</label>
              <input name="PhoneNumber" id="PhoneNumber" type="tel" placeholder="e.g. 08087654321"
                class="p-3 border border-gray-300 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500" />
            </div>
          </div>

          <div class="text-right">
            <button id="updatePhoneNumberBtn" onclick="savePhoneNumber(event)"
              class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded transition duration-300">
              Save
            </button>
          </div>
        </form>

        <!-- Divider -->
        <hr class="my-8 border-t border-gray-300" />

        <h2 class="text-xl font-semibold text-gray-800 mb-4">Merge Phone Number</h2>

        <!-- Merge Phone Number Form -->
        <form id="phoneNumberMergingForm" class="space-y-6">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="form-group">
              <label for="firstphoneno" class="block mb-1 font-medium text-gray-700">First Phone Number</label>
              <input name="firstphoneno" id="firstphoneno" type="tel" placeholder="e.g. 08012345678"
                class="p-3 border border-gray-300 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500" />
            </div>

            <div class="form-group">
              <label for="secondPhoneNumber" class="block mb-1 font-medium text-gray-700">Second Phone Number</label>
              <input name="secondPhoneNumber" id="secondPhoneNumber" type="tel" placeholder="e.g. 08087654321"
                class="p-3 border border-gray-300 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500" />
            </div>
          </div>

          <div class="text-right">
            <button id="mergePhoneNumberBtn" onclick="mergePhoneNumber(event)"
              class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded transition duration-300">
              Save
            </button>
          </div>
        </form>
      </section>
    </main>
  </div>

  <!-- Hidden Export Table -->
<table id="memberTableExport" class="hidden">
  <thead>
    <tr>
      <th>Surname</th>
      <th>Other Names</th>
      <th>Email</th>
      <th>Sex</th>
      <th>Date of Birth</th>
      <th>Quarters</th>
      <th>Ward</th>
      <th>Town</th>
      <th>State</th>
      <th>Phone Number</th>
      <th>Phone Number 2</th>
      <th>Title</th>
      <th>Hon Title</th>
      <th>Qualifications</th>
      <th>Profession</th>
      <th>Exit Date</th>
      <th>Created At</th>
    </tr>
  </thead>
  <tbody>
    <!-- JS injects rows here -->
  </tbody>
</table>
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.29/jspdf.plugin.autotable.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
<script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
<script>
  lucide.createIcons();
</script>
</body>
<script src="script/admin-dashboard.js"></script>
</html>
